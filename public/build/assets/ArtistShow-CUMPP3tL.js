import{j as e}from"./ui-UjROl1yU.js";import{a as v,$ as y}from"./vendor--ALJc334.js";import{C as _,a as C,T as M,b as L,c as u,d as P,e as f}from"./chart-CEddj2vN.js";import{A as w,M as U}from"./AppLayout-NU6toT8G.js";import{C as T,a as F,b as S,c as B,e as E}from"./card-1QrzIMt_.js";import{H as I,P as O,C as z}from"./CollaboratingProducersTab-BSsTNB9k.js";import{z as G}from"./app-D0w2CfcE.js";import{u as R}from"./use-mobile-D9ClMpbX.js";import{B as $,C as H,X as W,Y as K,a as X}from"./charts-BlTULfni.js";import{S as k}from"./StatCard-C_882TU4.js";import{B as A,c as Y}from"./button-Dq94DUpE.js";import{U as q}from"./users-C9iRttU5.js";import"./createLucideIcon-CiJFG5Iv.js";import"./eye-nWBYVomk.js";import"./move-up-right-zbuB2Ihi.js";import"./trending-up-B3LX85FU.js";function D({tracks:s=[],artistName:d}){const[l,r]=v.useState(!1);if(!s||s.length===0)return e.jsxs("div",{className:"relative bg-[#F4F4F4]/[0.86] dark:bg-[#191919]/[0.51] rounded-[27.35px] sm:rounded-[40px] p-6 pt-2 sm:pt-5 lg:pt-6 sm:p-8",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-normal mb-1 md:mb-2",children:"Songs"}),e.jsx("p",{className:"text-muted-foreground",children:"No tracks found"})]});const o=v.useMemo(()=>[...s].sort((a,t)=>{const n=a.play_count||0;return(t.play_count||0)-n}),[s]),i=l?o:o.slice(0,5),m=a=>{var c,p,g,j,b,N;const t=typeof a.track_data=="string"?JSON.parse(a.track_data):a.track_data||{};let n="https://via.placeholder.com/50",x=null;if(a.source==="spotify")n=((g=(p=(c=t.album)==null?void 0:c.images)==null?void 0:p[0])==null?void 0:g.url)??n,x=(j=t==null?void 0:t.external_urls)==null?void 0:j.spotify;else if(a.source==="Apple Music"){const h=(b=t.attributes)==null?void 0:b.artwork;h!=null&&h.url&&(n=h.url.replace("{w}",50).replace("{h}",50)),x=(N=t.attributes)==null?void 0:N.url}return{albumImage:n,trackUrl:x}};return e.jsxs(T,{className:"rounded-[31.19px] lg:rounded-[47px] px-3 sm:px-6 py-2 sm:py-4",children:[e.jsx(F,{className:"px-3 py-3.5 pb-1 sm:pb-3",children:e.jsx("div",{children:e.jsx(S,{className:"md:text-2xl font-normal",children:"Songs"})})}),e.jsx(B,{className:"px-3 pt-0 pb-0",children:e.jsxs("div",{className:"overflow-auto",children:[e.jsxs("div",{className:"flex-1 flex rounded-[15px] ",children:[e.jsx("div",{className:"min-w-[40px] text-sm md:text-lg text-muted-foreground py-[14px] dark:bg-[rgba(0,0,0,0.12)] bg-[rgba(255,255,255,0.75)] rounded-l-[15px]"}),e.jsx("div",{className:"min-w-[200px] text-sm md:text-lg px-4 text-muted-foreground flex-1 py-[14px] dark:bg-[rgba(0,0,0,0.12)] bg-[rgba(255,255,255,0.75)]",children:"Song title"}),e.jsx("div",{className:"min-w-[200px] text-sm md:text-lg px-6 md:px-8 text-muted-foreground flex-1 py-[14px] dark:bg-[rgba(0,0,0,0.12)] bg-[rgba(255,255,255,0.75)]",children:"Album"}),e.jsx("div",{className:"min-w-[200px] text-sm md:text-lg pl-9 md:pl-6 text-muted-foreground flex-1 py-[14px] dark:bg-[rgba(0,0,0,0.12)] bg-[rgba(255,255,255,0.75)]",children:"Producer"}),e.jsx("div",{className:"min-w-[200px] text-sm md:text-lg pl-9 md:pl-6 text-muted-foreground flex-1 py-[14px] dark:bg-[rgba(0,0,0,0.12)] bg-[rgba(255,255,255,0.75)]",children:"Times Played"}),e.jsx("div",{className:"min-w-[100px] text-sm font-medium py-[14px] dark:bg-[rgba(0,0,0,0.12)] bg-[rgba(255,255,255,0.75)] rounded-r-[15px]"})]}),e.jsx("div",{children:i.map((a,t)=>{var c;const{albumImage:n,trackUrl:x}=m(a);return e.jsx("div",{className:"group transition-colors duration-150",children:e.jsxs("div",{className:"flex flex-1 gap-3 py-4 items-center",children:[e.jsx("div",{className:"min-w-[40px]  px-2 flex items-center justify-center",children:e.jsx("span",{className:"text-sm md:text-lg text-muted-foreground",children:t+1})}),e.jsxs("div",{className:"min-w-[200px] flex items-center space-x-3 flex-1",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:n||"/placeholder.svg",alt:`${a.album_name} artwork`,className:"w-10 h-10 !rounded-[2px] lg:!rounded-[4px] object-cover"})}),e.jsx("div",{children:e.jsx("p",{className:"text-sm md:text-lg",children:a.track_name})})]}),e.jsx("div",{className:"min-w-[200px] flex-1",children:e.jsx("p",{className:"text-sm md:text-lg text-muted-foreground",children:a.album_name})}),e.jsx("div",{className:"min-w-[200px] flex-1",children:e.jsx("p",{className:"text-sm md:text-lg text-muted-foreground",children:(c=a.producers)!=null&&c.length?a.producers.map(p=>p.name).join(", "):"Unknown"})}),e.jsx("div",{className:"min-w-[200px] flex-1",children:e.jsx("p",{className:"text-sm md:text-lg text-muted-foreground",children:a.play_count||0})}),e.jsx("div",{className:"min-w-[50px] flex justify-end",children:x&&e.jsx("a",{href:x,target:"_blank",rel:"noopener noreferrer",className:"inline-flex hover:scale-110 transition-transform",children:a.source==="spotify"?e.jsx("img",{src:"/images/Primary_Logo_Green_RGB.svg",alt:"Spotify",className:"w-6 h-6"}):e.jsx("img",{src:"/images/Apple_Music_icon.svg",alt:"Apple Music",className:"w-6 h-6"})})})]})},a.id)})}),o.length>5&&!l&&e.jsx("div",{className:"px-6 py-4",children:e.jsx("button",{onClick:()=>r(!0),className:"text-sm text-muted-foreground",children:"SEE MORE"})})]})})]})}function J({producers:s=[]}){const{theme:d}=G(),l=R(),r=s.map(i=>({name:i.name,plays:i.track_count,image_url:i.image_url||null})),o={plays:{label:"Total Plays",color:d==="dark"?"#231A55":"#6A4BFB"}};return e.jsxs(T,{className:"rounded-[31.19px] lg:rounded-[47px] px-3 sm:px-6 py-2 sm:py-4",children:[e.jsx(F,{className:"px-6 py-3 pb-1 sm:pb-3",children:e.jsxs("div",{children:[e.jsx(S,{className:"text-base sm:text-xl font-normal",children:"Top 10 Artists by Total Plays"}),e.jsx(E,{className:"text-sm sm:text-base",children:"Showing the most played artists"})]})}),e.jsx(B,{className:"px-6 pt-0 pb-0",children:e.jsx(_,{config:o,className:"h-[450px] sm:h-[600px] w-full",children:e.jsxs($,{accessibilityLayer:!0,data:r,margin:{top:15,right:0,bottom:-5,left:-25},children:[e.jsxs("defs",{children:[e.jsxs("pattern",{id:"stripes-light-artist",patternUnits:"userSpaceOnUse",width:"30",height:"30",children:[e.jsx("rect",{width:"30",height:"30",fill:"#6A4BFB"}),e.jsx("path",{d:"M0,30 L30,0 M-10,10 L10,-10 M20,40 L40,20",stroke:"#FFFFFF",strokeWidth:"2"})]}),e.jsxs("pattern",{id:"stripes-dark-artist",patternUnits:"userSpaceOnUse",width:"30",height:"30",children:[e.jsx("rect",{width:"30",height:"30",fill:"#231A55"}),e.jsx("path",{d:"M0,30 L30,0 M-10,10 L10,-10 M20,40 L40,20",stroke:"#6A4BFB",strokeWidth:"2"})]})]}),e.jsx(H,{vertical:!1}),e.jsx(W,{dataKey:"name",tickLine:!1,tickMargin:10,axisLine:!1,angle:l?-55:-45,textAnchor:"end",height:120,tick:{fontSize:13},interval:0}),e.jsx(K,{tickLine:!1,axisLine:!1,tickFormatter:i=>Math.floor(i).toString(),domain:[0,"dataMax"],tick:{dx:-5,fontSize:13}}),e.jsx(C,{cursor:!1,content:({active:i,payload:m})=>{if(i&&m&&m.length){const a=m[0].payload;return e.jsx("div",{className:"bg-[#EA6115] p-3 shadow-lg border border-[#EA6115]",style:{borderRadius:"25.74px"},children:e.jsxs("div",{className:"flex items-center gap-3",children:[a.image_url&&e.jsx("img",{src:a.image_url,alt:a.name,className:"w-10 h-10 rounded-full object-cover"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm text-white",children:a.name}),e.jsxs("p",{className:"text-sm text-gray-100",children:["Total Plays: ",e.jsx("span",{className:"font-semibold text-[#F6BB9A]",children:a.plays})]})]})]})})}return null}}),e.jsx(X,{dataKey:"plays",fill:d==="dark"?"url(#stripes-dark-artist)":"url(#stripes-light-artist)",radius:8})]})})})]})}function pe({artist:s,auth:d,tracks:l,producerCollaborators:r,currentProducerId:o,topProducersForArtist:i}){var m,a,t,n,x,c,p,g;return s?e.jsxs(w,{user:d==null?void 0:d.user,children:[e.jsx(y,{title:s==null?void 0:s.name}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:s==null?void 0:s.image_url,alt:`${s==null?void 0:s.name}'s profile`,className:"w-20 lg:w-40 lg:h-40 h-20 rounded-full object-cover"}),e.jsx("div",{children:e.jsx("h1",{className:"text-4xl lg:text-7xl font-normal",children:s==null?void 0:s.name})})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(A,{variant:"ghost",size:"icon",className:"bg-[#FFFFFF] dark:bg-[#1A1A1A] text-gray-600 dark:text-gray-400 h-10 w-10 rounded-full hover:bg-gray-100 dark:hover:bg-[#252525] hover:text-gray-600",children:e.jsx(I,{className:Y("h-4 w-4  dark:stroke-white","")})}),e.jsxs(A,{variant:"default",size:"sm",className:"bg-primary text-xs hover:bg-primary/90 text-primary-foreground py-5 !px-4 rounded-2xl",children:[e.jsx(O,{className:"stroke-3"})," FOLLOW ARTIST"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[e.jsx(k,{title:"Total Tracks",value:(a=(m=l==null?void 0:l.length)==null?void 0:m.toString())==null?void 0:a.slice(0,2),valueGray:(n=(t=l==null?void 0:l.length)==null?void 0:t.toString())==null?void 0:n.slice(2),footer:"Tracks by artist"}),e.jsx(k,{title:"Producer Collabs",footer:"Unique producers",value:((c=(x=r==null?void 0:r.length)==null?void 0:x.toString())==null?void 0:c.slice(0,2))||"",valueGray:((g=(p=r==null?void 0:r.length)==null?void 0:p.toString())==null?void 0:g.slice(2))||""})]}),e.jsxs(M,{defaultValue:"tracks",className:"w-full",children:[e.jsx("div",{className:"overflow-x-auto scrollbar-hide",children:e.jsxs(L,{className:"mb-4 w-max h-auto p-0.5 bg-white/[0.51] dark:bg-[#191919]/[0.58] rounded-full flex flex-nowrap",children:[e.jsxs(u,{value:"tracks",className:"flex items-center gap-2 px-4 sm:px-6 py-2.5 sm:py-3 rounded-full border-0 data-[state=active]:bg-[#6A4BFB] dark:data-[state=active]:bg-white data-[state=active]:text-white dark:data-[state=active]:text-black text-gray-600 dark:text-gray-400 font-medium text-sm sm:text-base transition-all whitespace-nowrap",children:[e.jsx(U,{className:"h-4 w-4"})," Tracks"]}),e.jsxs(u,{value:"collab-producers",className:"flex items-center gap-2 px-4 sm:px-6 py-2.5 sm:py-3 rounded-full border-0 data-[state=active]:bg-[#6A4BFB] dark:data-[state=active]:bg-white data-[state=active]:text-white dark:data-[state=active]:text-black text-gray-600 dark:text-gray-400 font-medium text-sm sm:text-base transition-all whitespace-nowrap",children:[e.jsx(q,{className:"h-4 w-4"})," Producers Collaborations"]}),e.jsxs(u,{value:"stats",className:"flex items-center gap-2 px-4 sm:px-6 py-2.5 sm:py-3 rounded-full border-0 data-[state=active]:bg-[#6A4BFB] dark:data-[state=active]:bg-white data-[state=active]:text-white dark:data-[state=active]:text-black text-gray-600 dark:text-gray-400 font-medium text-sm sm:text-base transition-all whitespace-nowrap",children:[e.jsx(P,{className:"h-4 w-4"})," Stats"]})]})}),e.jsx(f,{value:"tracks",className:"space-y-4",children:e.jsx("div",{className:"block",children:e.jsx(D,{tracks:l||[],artistName:s==null?void 0:s.name})})}),e.jsx(f,{value:"collab-producers",className:"space-y-4",children:e.jsx(z,{producers:r,producerId:o,artistName:s==null?void 0:s.name})}),e.jsx(f,{value:"stats",className:"space-y-4",children:e.jsx(J,{producers:i})})]})]})]}):e.jsx(w,{user:d==null?void 0:d.user,children:e.jsxs("div",{children:[e.jsx(y,{title:"Producer"}),e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("p",{className:"text-muted-foreground",children:"Artist not found"})})]})})}export{pe as default};
