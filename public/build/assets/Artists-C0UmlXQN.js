import{j as e}from"./ui-UjROl1yU.js";import{q as Y,a as c,v as q,$ as G,m as E}from"./vendor--ALJc334.js";import{A as H,a as Q,S as P}from"./AppLayout-NU6toT8G.js";import{C as J,a as Z,T as ee,b as te,c as L,d as ae,e as O}from"./chart-CEddj2vN.js";import{f as o,P as g,a as b,b as f,c as se}from"./popover-BmsIpSUI.js";import{B as k}from"./button-Dq94DUpE.js";import{C as re,a as le,b as de,e as ne,c as ie}from"./card-1QrzIMt_.js";import{z as ce}from"./app-D0w2CfcE.js";import{u as oe}from"./use-mobile-D9ClMpbX.js";import{d as xe,C as j}from"./calendar-yt8paQzP.js";import{B as he,C as me,X as pe,Y as ue,a as ge}from"./charts-BlTULfni.js";import{S as R,a as _,C as V,b as $,c as I,d}from"./select-BTvP7yGw.js";import be from"./ArtistCard-DzDoLDoD.js";import"./createLucideIcon-CiJFG5Iv.js";import"./users-C9iRttU5.js";import"./chevron-right-CdanDZ7T.js";import"./chevron-down-CU3YUQ5g.js";import"./check-BrIydDWP.js";import"./move-up-right-zbuB2Ihi.js";function fe({topArtists:i=[],start:x,end:m}){const{theme:p}=ce(),y=oe();console.log("TopArtistsChart - topArtists:",i);const u=i.map(a=>({name:a.artist_name,plays:a.play_count||a.track_count||0,image_url:a.image_url||null}));console.log("TopArtistsChart - chartData:",u);const h={plays:{label:"Tracks Played:  ",color:p==="dark"?"#231A55":"#6A4BFB"}};if(x&&m){const a=new Date(x),s=new Date(m),n=xe(s,a)+1;`${o(a,"MMM d, yyyy")}${o(s,"MMM d, yyyy")}${n}`}return!i||i.length===0?e.jsx("div",{className:"text-center py-10 text-muted-foreground",children:e.jsx("p",{children:"No data available."})}):e.jsxs(re,{className:"rounded-[31.19px] lg:rounded-[47px] px-3 sm:px-6 py-2 sm:py-4",children:[e.jsx(le,{className:"px-6 py-3 pb-1 sm:pb-3",children:e.jsxs("div",{children:[e.jsx(de,{className:"text-base sm:text-xl font-medium",children:"Top 10 Artists by Total Plays"}),e.jsx(ne,{className:"text-sm sm:text-base",children:"Showing the most played artists"})]})}),e.jsx(ie,{className:"px-6 pt-0 pb-0",children:e.jsx(J,{config:h,className:"h-[300px] sm:h-[400px] md:h-[450px] lg:h-[550px] w-full",children:e.jsxs(he,{accessibilityLayer:!0,data:u,margin:{top:5,right:0,bottom:10,left:-25},children:[e.jsxs("defs",{children:[e.jsxs("pattern",{id:"stripes-light-artists",patternUnits:"userSpaceOnUse",width:"30",height:"30",children:[e.jsx("rect",{width:"30",height:"30",fill:"#6A4BFB"}),e.jsx("path",{d:"M0,30 L30,0 M-10,10 L10,-10 M20,40 L40,20",stroke:"#FFFFFF",strokeWidth:"2"})]}),e.jsxs("pattern",{id:"stripes-dark-artists",patternUnits:"userSpaceOnUse",width:"30",height:"30",children:[e.jsx("rect",{width:"30",height:"30",fill:"#231A55"}),e.jsx("path",{d:"M0,30 L30,0 M-10,10 L10,-10 M20,40 L40,20",stroke:"#6A4BFB",strokeWidth:"2"})]})]}),e.jsx(me,{vertical:!1}),e.jsx(pe,{dataKey:"name",tickLine:!1,tickMargin:10,axisLine:!1,angle:y?-55:-45,textAnchor:"end",height:120,tick:{fontSize:13},interval:0}),e.jsx(ue,{tickLine:!1,axisLine:!1,tickFormatter:a=>Math.floor(a).toString(),domain:[0,"dataMax"],tick:{dx:-5,fontSize:13}}),e.jsx(Z,{cursor:!1,content:({active:a,payload:s})=>{if(a&&s&&s.length){const n=s[0].payload;return e.jsx("div",{className:"bg-[#EA6115] p-3 shadow-lg border border-[#EA6115]",style:{borderRadius:"25.74px"},children:e.jsxs("div",{className:"flex items-center gap-3",children:[n.image_url&&e.jsx("img",{src:n.image_url,alt:n.name,className:"w-10 h-10 rounded-full object-cover"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm text-white",children:n.name}),e.jsxs("p",{className:"text-sm text-gray-100",children:["Tracks Played: ",e.jsx("span",{className:"font-semibold text-[#F6BB9A]",children:n.plays})]})]})]})})}return null}}),e.jsx(ge,{dataKey:"plays",fill:p==="dark"?"url(#stripes-dark-artists)":"url(#stripes-light-artists)",radius:8})]})})})]})}function _e({auth:i}){const{artistsData:x,searchQuery:m,topArtistsByRange:p,tab:y,range:u}=Y().props,[h,a]=c.useState(y||"list"),[s,n]=c.useState(u||"all"),[r,w]=c.useState(null),[l,v]=c.useState(null),[U,N]=c.useState(!1),[W,A]=c.useState(!1),[z,B]=c.useState(!1),[K,S]=c.useState(!1),{data:C,setData:F,get:X}=q({search:m||""}),M=t=>{t.preventDefault(),X(route("artists",{per_page:16}),{preserveState:!0})},D=t=>{n(t),t!=="custom"&&E.get(route("artists"),{range:t,tab:"second"},{preserveScroll:!0,preserveState:!0,only:["topArtistsByRange"]})},T=()=>{r&&l&&E.get(route("artists"),{range:"custom",start:o(r,"yyyy-MM-dd"),end:o(l,"yyyy-MM-dd"),tab:"second"},{preserveScroll:!0,preserveState:!0,only:["topArtistsByRange"]})};return e.jsxs(H,{user:i==null?void 0:i.user,children:[e.jsx(G,{title:"Artists"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-3xl lg:text-5xl font-normal",children:"Artists"}),e.jsxs(ee,{defaultValue:h,value:h,onValueChange:a,children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 mb-6",children:[e.jsx("div",{className:"flex items-center justify-between w-full gap-2",children:e.jsx("div",{className:"overflow-x-auto scrollbar-hide",children:e.jsxs(te,{className:"w-max h-auto p-0.5 bg-white/[0.51] dark:bg-[#191919]/[0.58] rounded-full flex flex-nowrap",children:[e.jsxs(L,{value:"list",className:"flex items-center gap-2 px-4 sm:px-6 py-2.5 sm:py-3 rounded-full border-0 data-[state=active]:bg-[#6A4BFB] dark:data-[state=active]:bg-white data-[state=active]:text-white dark:data-[state=active]:text-black text-gray-600 dark:text-gray-400 font-medium text-sm sm:text-base transition-all whitespace-nowrap",children:[e.jsx(Q,{className:"h-4 w-4"})," Artists"]}),e.jsxs(L,{value:"second",className:"flex items-center gap-2 px-4 sm:px-6 py-2.5 sm:py-3 rounded-full border-0 data-[state=active]:bg-[#6A4BFB] dark:data-[state=active]:bg-white data-[state=active]:text-white dark:data-[state=active]:text-black text-gray-600 dark:text-gray-400 font-medium text-sm sm:text-base transition-all whitespace-nowrap",children:[e.jsx(ae,{className:"h-4 w-4"})," Stats"]})]})})}),h==="list"&&e.jsx("div",{className:"hidden lg:block",children:e.jsxs("form",{onSubmit:M,className:"relative flex items-center",children:[e.jsx("input",{type:"text",value:C.search,onChange:t=>F("search",t.target.value),placeholder:"Search artists by name...",className:"bg-white/[0.58] dark:bg-[#191919]/[0.58] rounded-full pl-16 pr-32 py-3.5 h-[52px] max-w-[600px] lg:w-[450px] xl:w-[600px] focus:outline-none focus:ring-2 focus:ring-purple-500 placeholder:text-gray-500 dark:placeholder:text-gray-400 text-gray-900 dark:text-white"}),e.jsx("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-[#E4E4E4] dark:bg-[#1A1A1A] flex items-center justify-center",children:e.jsx(P,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),e.jsx(k,{type:"submit",className:"absolute right-2 top-1/2 -translate-y-1/2 bg-[#6A4BFB] hover:bg-[#6A4BFB]/90 text-white rounded-full px-6 py-2 h-10",children:"Search"})]})}),h==="second"&&e.jsxs("div",{className:"hidden lg:flex items-center gap-4",children:[e.jsx("div",{className:"p-0.5 bg-white/[0.51] dark:bg-[#191919]/[0.58] rounded-full",children:e.jsxs(R,{onValueChange:D,value:s,children:[e.jsxs(_,{className:"h-auto py-3 sm:py-5.5 px-4 sm:px-6 w-60 bg-transparent border-0 rounded-full text-sm sm:text-base font-medium",children:[e.jsx(V,{className:"h-4 w-4 mr-2 text-gray-600 dark:text-gray-400"}),e.jsx($,{placeholder:"Select Range"})]}),e.jsxs(I,{className:"bg-white/[0.51] dark:bg-[#191919]/[0.58] backdrop-blur-md rounded-2xl border-0 p-2",children:[e.jsx(d,{value:"all",className:"rounded-sm data-[state=checked]:bg-[#6A4BFB] data-[state=checked]:text-white mb-1",children:"All Time"}),e.jsx(d,{value:"today",className:"rounded-sm data-[state=checked]:bg-[#6A4BFB] data-[state=checked]:text-white mb-1",children:"Today"}),e.jsx(d,{value:"week",className:"rounded-sm data-[state=checked]:bg-[#6A4BFB] data-[state=checked]:text-white mb-1",children:"This Week"}),e.jsx(d,{value:"last7",className:"rounded-sm data-[state=checked]:bg-[#6A4BFB] data-[state=checked]:text-white mb-1",children:"Last 7 Days"}),e.jsx(d,{value:"custom",className:"rounded-sm data-[state=checked]:bg-[#6A4BFB] data-[state=checked]:text-white",children:"Custom Range"})]})]})}),s==="custom"&&e.jsxs(e.Fragment,{children:[e.jsxs(g,{open:U,onOpenChange:N,children:[e.jsx(b,{children:e.jsx("button",{type:"button",className:"h-[48px] px-6 rounded-full bg-white/[0.51] dark:bg-[#191919]/[0.58] border-0 hover:bg-white/70 dark:hover:bg-[#191919]/70 text-gray-900 dark:text-gray-100 transition-colors whitespace-nowrap",children:r?o(r,"PPP"):"Pick Start Date"})}),e.jsx(f,{className:"w-auto p-0 bg-white/[0.51] dark:bg-[#191919]/[0.58] backdrop-blur-md rounded-2xl border-0",align:"start",children:e.jsx(j,{mode:"single",selected:r,onSelect:t=>{w(t),N(!1)}})})]}),e.jsxs(g,{open:W,onOpenChange:A,children:[e.jsx(b,{children:e.jsx("button",{type:"button",className:"h-[48px] px-6 rounded-full bg-white/[0.51] dark:bg-[#191919]/[0.58] border-0 hover:bg-white/70 dark:hover:bg-[#191919]/70 text-gray-900 dark:text-gray-100 transition-colors whitespace-nowrap",children:l?o(l,"PPP"):"Pick End Date"})}),e.jsx(f,{className:"w-auto p-0 bg-white/[0.51] dark:bg-[#191919]/[0.58] backdrop-blur-md rounded-2xl border-0",align:"start",children:e.jsx(j,{mode:"single",selected:l,onSelect:t=>{v(t),A(!1)}})})]}),e.jsx(k,{onClick:T,disabled:!r||!l,className:"h-[48px] rounded-full bg-[#6A4BFB] hover:bg-[#6A4BFB]/90 border-0 text-white",children:"Apply"})]})]})]}),e.jsxs(O,{value:"list",className:"space-y-4",children:[e.jsx("div",{className:"lg:hidden mb-6",children:e.jsxs("form",{onSubmit:M,className:"relative flex items-center",children:[e.jsx("input",{type:"text",value:C.search,onChange:t=>F("search",t.target.value),placeholder:"Search artists by name...",className:"bg-white/[0.58] dark:bg-[#191919]/[0.58] rounded-full pl-14 pr-4 py-3 h-[48px] w-full focus:outline-none focus:ring-2 focus:ring-purple-500 placeholder:text-gray-500 dark:placeholder:text-gray-400 text-gray-900 dark:text-white"}),e.jsx("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 w-9 h-9 rounded-full bg-[#E4E4E4] dark:bg-[#1A1A1A] flex items-center justify-center",children:e.jsx(P,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})]})}),x.data.length===0&&e.jsx("div",{className:"w-full text-center py-10 text-muted-foreground",children:e.jsx("p",{children:"No artists available."})}),e.jsx("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-[repeat(auto-fill,minmax(340px,1fr))]",children:x.data.length>0&&x.data.map(t=>e.jsx(be,{artist:t},t.artist_id))}),e.jsx("div",{className:"mt-6",children:e.jsx(se,{meta:x.meta,only:["artistsData"]})})]}),e.jsxs(O,{value:"second",className:"space-y-4",children:[e.jsxs("div",{className:"lg:hidden",children:[e.jsx("div",{className:"p-0.5 bg-white/[0.51] dark:bg-[#191919]/[0.58] rounded-full inline-flex",children:e.jsxs(R,{onValueChange:D,value:s,children:[e.jsxs(_,{className:"h-auto py-3 px-4 w-47 bg-transparent border-0 rounded-full text-sm font-medium",children:[e.jsx(V,{className:"h-4 w-4 mr-2 text-gray-600 dark:text-gray-400"}),e.jsx($,{placeholder:"Select Range"})]}),e.jsxs(I,{className:"bg-white/[0.51] dark:bg-[#191919]/[0.58] backdrop-blur-md rounded-2xl border-0 p-2",children:[e.jsx(d,{value:"all",className:"rounded-xl data-[state=checked]:bg-[#6A4BFB] data-[state=checked]:text-white mb-1",children:"All Time"}),e.jsx(d,{value:"today",className:"rounded-xl data-[state=checked]:bg-[#6A4BFB] data-[state=checked]:text-white mb-1",children:"Today"}),e.jsx(d,{value:"week",className:"rounded-xl data-[state=checked]:bg-[#6A4BFB] data-[state=checked]:text-white mb-1",children:"This Week"}),e.jsx(d,{value:"last7",className:"rounded-xl data-[state=checked]:bg-[#6A4BFB] data-[state=checked]:text-white mb-1",children:"Last 7 Days"}),e.jsx(d,{value:"custom",className:"rounded-xl data-[state=checked]:bg-[#6A4BFB] data-[state=checked]:text-white",children:"Custom Range"})]})]})}),s==="custom"&&e.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[e.jsxs(g,{open:z,onOpenChange:B,children:[e.jsx(b,{children:e.jsx("button",{type:"button",className:"h-[44px] px-6 rounded-full bg-white/[0.51] dark:bg-[#191919]/[0.58] border-0 hover:bg-white/70 dark:hover:bg-[#191919]/70 text-gray-900 dark:text-gray-100 text-sm transition-colors whitespace-nowrap",children:r?o(r,"MMM d"):"Start Date"})}),e.jsx(f,{className:"w-auto p-0 bg-white dark:bg-[#191919] backdrop-blur-md rounded-2xl border-0",align:"start",children:e.jsx(j,{mode:"single",selected:r,onSelect:t=>{w(t),B(!1)}})})]}),e.jsxs(g,{open:K,onOpenChange:S,children:[e.jsx(b,{children:e.jsx("button",{type:"button",className:"h-[44px] px-6 rounded-full bg-white/[0.51] dark:bg-[#191919]/[0.58] border-0 hover:bg-white/70 dark:hover:bg-[#191919]/70 text-gray-900 dark:text-gray-100 text-sm transition-colors whitespace-nowrap",children:l?o(l,"MMM d"):"End Date"})}),e.jsx(f,{className:"w-auto p-0 bg-white dark:bg-[#191919] backdrop-blur-md rounded-2xl border-0",align:"start",children:e.jsx(j,{mode:"single",selected:l,onSelect:t=>{v(t),S(!1)}})})]}),e.jsx(k,{onClick:T,disabled:!r||!l,className:"h-[44px] rounded-full bg-[#6A4BFB] hover:bg-[#6A4BFB]/90 border-0 text-white text-sm",children:"Apply"})]})]}),e.jsx(fe,{topArtists:p||[],start:"2025-07-21",end:"2025-07-28"})]})]})]})]})}export{_e as default};
